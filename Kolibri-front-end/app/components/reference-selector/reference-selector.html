<div class="select-box">
    <div ng-if="$ctrl.type === 'paginationLoad'">
        <ui-select ng-model="$ctrl.model"
                   reach-infinity="requestMoreItems($select.search, false)"
                   theme="bootstrap"
                   class="{{$ctrl.selectClass}}"
                   append-to-body="false">
            <ui-select-match placeholder="{{$ctrl.placeholder}}">{{viewFunction($select.selected)}}</ui-select-match>
            <ui-select-choices refresh="refreshList($select.search)"
                               refresh-delay="300"
                               repeat="item in items">
                <div ng-bind-html="viewFunction(item) | highlight : $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
    <div ng-if="$ctrl.type !== 'paginationLoad'">
        <ui-select ng-model="$ctrl.model"
                   theme="bootstrap"
                   class="{{$ctrl.selectClass}}"
                   append-to-body="false">
            <ui-select-match placeholder="{{$ctrl.placeholder}}">{{viewFunction($select.selected)}}</ui-select-match>
            <ui-select-choices repeat="item in items | filter : $select.search : comparator">
                <div ng-bind-html="viewFunction(item) | highlight : $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
</div>
